<!-- vorstaende.html -->
<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Vorstände — Burschenverein Hochbrück</title>
  <link rel="icon" href="/assets/images/logo.svg" type="image/svg+xml">
  <link rel="icon" href="/assets/images/logo.png" type="image/png">
  <link rel="stylesheet" href="/assets/css/style.css">
  <!-- NEU für Dropdown: -->
  <script src="/assets/js/nav.js"></script>
</head>
<body class="page-other has-bg">

  <div id="site-header"></div>

  <main class="container">
    <h1>Vorstände</h1>
    <p>Liste der Vorstände (Name, Funktion, Kontakt).</p>
    <!-- Beispiel: -->
    <ul>
      <li>Bastian Werkheiser — 1. Vorstand — <a href="mailto:bvhochbrueck@gmx.de">bvhochbrueck@gmx.de</a></li>
      <li>Simon Furchtsam — 2. Vorstand — <a href="mailto:bvhochbrueck@gmx.de">bvhochbrueck@gmx.de</a></li>
    </ul>
  </main>

  <div id="site-footer"></div>

  <script>
    // gleiche helper-Funktionen wie index.html (loadInclude, markActiveNav, setupDropdowns)
    async function loadInclude(id, path){
      const el = document.getElementById(id);
      if(!el) return;
      try { const r = await fetch(path); 
           if(!r.ok) return; 
           el.innerHTML = await r.text();
           const yearSpan = document.getElementById('year'); 
           if(yearSpan) yearSpan.textContent = new Date().getFullYear();
      } catch(e){ console.warn(e); }
    }
    function markActiveNav(){
      const nav = document.querySelector('.main-nav'); if(!nav) return;
      const links = nav.querySelectorAll('a'); const cur = location.pathname.split('/').pop() || 'index.html';
      links.forEach(a=>{ if(a.getAttribute('href') === cur) a.classList.add('active'); });
      const active = nav.querySelector('a.active'); if(active){ const parent = active.closest('.dropdown'); if(parent){ const btn = parent.querySelector('.dropbtn'); if(btn) btn.classList.add('active'); } }
    }
    function setupDropdowns(){
      const dropdowns = document.querySelectorAll('.dropdown');
      dropdowns.forEach(dd => {
        const btn = dd.querySelector('.dropbtn'); const menu = dd.querySelector('.dropdown-menu');
        if(!btn || !menu) return;
        document.addEventListener('click', (ev) => { if(!dd.contains(ev.target)){ btn.setAttribute('aria-expanded','false'); dd.setAttribute('aria-expanded','false'); menu.classList.remove('open'); } });
        btn.addEventListener('click', (e)=>{ e.stopPropagation(); const expanded = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', String(!expanded)); dd.setAttribute('aria-expanded', String(!expanded)); menu.classList.toggle('open', !expanded); });
      });
    }

    (async function init(){ await loadInclude('site-header','/includes/header.html'); await loadInclude('site-footer','/includes/footer.html'); markActiveNav(); setupDropdowns(); initNav(); })();
  </script>

<!-- funktioniert nicht gut   
  <script>
    // gleiche Includes / Dropdown-Setup wie in chronik.html
    async function loadInclude(id, path){
      const el = document.getElementById(id);
      if(!el) return;
      try {
        const r = await fetch(path);
        if(!r.ok) return;
        el.innerHTML = await r.text();
        const yearSpan = document.getElementById('year');
        if(yearSpan) yearSpan.textContent = new Date().getFullYear();
        markActiveNav();
        setupDropdowns();
      } catch(e){ console.warn('Include laden fehlgeschlagen', e); }
    }
    function markActiveNav(){
      const nav = document.querySelector('.main-nav');
      if(!nav) return;
      const links = nav.querySelectorAll('a');
      const cur = location.pathname.split('/').pop() || 'index.html';
      links.forEach(a=>{
        if(a.getAttribute('href') === cur) a.classList.add('active');
      });
      const active = document.querySelector('.main-nav a.active');
      if(active){
        const parent = active.closest('.dropdown');
        if(parent){
          parent.querySelector('.dropbtn').classList.add('active');
        }
      }
    }
    function setupDropdowns(){
      const dropdowns = document.querySelectorAll('.dropdown');
      dropdowns.forEach(dd => {
        const btn = dd.querySelector('.dropbtn');
        const menu = dd.querySelector('.dropdown-menu');
        if(!btn || !menu) return;
        btn.addEventListener('click', (e)=>{
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          dd.setAttribute('aria-expanded', String(!expanded));
          menu.classList.toggle('open', !expanded);
        });
      });
    }

    loadInclude('site-header','/includes/header.html');
    loadInclude('site-footer','/includes/footer.html');
    initNav(); // markiert aktive Links + initialisiert Dropdown-Klicks
  </script>
  --> 
  
</body>
</html>
